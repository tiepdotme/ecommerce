{"version":3,"sources":["webpack:///./template/js/custom-js/html/APrices.html","webpack:///./node_modules/@ecomplus/storefront-components/src/html/ShippingLine.html","webpack:///./node_modules/@ecomplus/storefront-components/src/js/ShippingLine.js?c831","webpack:///./node_modules/@ecomplus/storefront-components/src/js/ShippingLine.js","webpack:///./node_modules/@ecomplus/storefront-components/src/ShippingLine.vue","webpack:///./node_modules/@ecomplus/storefront-app/src/views/Confirmation.vue?6c53","webpack:///./node_modules/@ecomplus/storefront-app/src/views/js/Confirmation.js?a541","webpack:///./node_modules/@ecomplus/storefront-app/src/views/js/Confirmation.js","webpack:///./node_modules/@ecomplus/storefront-app/src/views/Confirmation.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isLiteral","isBig","_v","_s","formatMoney","comparePrice","_e","price","attrs","installmentsNumber","key","i19upTo","i19of","installmentValue","monthlyInterest","i19interestFree","priceWithDiscount","discountLabel","i19asOf","staticRenderFns","name","props","shippingLine","type","Object","required","computed","deadlineStr","shipping","isWorkingDays","posting_deadline","working_days","delivery_time","days","i18n","i19workingDays","i19days","freightValueStr","freight","total_price","i19freeShipping","component","components","EcOrderInfo","data","canUpsertCart","mapGetters","orderId","$route","params","id","order","get","orders","find","_id","set","concat","stateOrder","assign","push","setOrders","json","$router","encodeURIComponent","JSON","stringify","methods","mapMutations","mapActions","handleUpsertCart","status","ecomCart","completed","upsertCart","then","resetCart","created","customer","ecomPassport","checkAuthorization","main_email","doc_number","fetchLogin","saveCustomer","mounted","on","$event"],"mappings":"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","file":"chunk.5ab6e9182fe1099a4338.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"prices\",class:{ 'prices--literal': _vm.isLiteral, 'prices--big': _vm.isBig }},[(_vm.comparePrice)?_c('span',{staticClass:\"prices__compare\"},[(_vm.isLiteral)?[_c('small',[_vm._v(\"Từ\")]),_c('s',[_vm._v(_vm._s(_vm.formatMoney(_vm.comparePrice)))]),_c('small',[_vm._v(\"đến\")])]:_c('s',[_vm._v(_vm._s(_vm.formatMoney(_vm.comparePrice)))])],2):_vm._e(),_c('strong',{staticClass:\"prices__value\"},[_vm._v(\" \"+_vm._s(_vm.formatMoney(_vm.price))+\" \")]),_c('transition-group',{attrs:{\"enter-active-class\":\"animated slideInDown\"}},[(_vm.installmentsNumber > 1)?_c('div',{key:\"installments\",staticClass:\"prices__installments\"},[(_vm.isLiteral)?_c('small',[_vm._v(\" \"+_vm._s(_vm.i19upTo)+\" \")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.installmentsNumber)+\"x \"),(_vm.isLiteral)?_c('small',[_vm._v(\" \"+_vm._s(_vm.i19of)+\" \")]):_vm._e(),_c('span',[_vm._v(\" \"+_vm._s(_vm.formatMoney(_vm.installmentValue))+\" \")]),(!_vm.monthlyInterest && _vm.isLiteral)?_c('small',[_vm._v(\" \"+_vm._s(_vm.i19interestFree)+\" \")]):_vm._e()]):_vm._e(),(typeof _vm.priceWithDiscount === 'number' && _vm.priceWithDiscount < _vm.price)?_c('div',{key:\"discount\",staticClass:\"prices__discount\"},[(typeof _vm.discountLabel === 'string' && _vm.discountLabel)?[_c('span',[_vm._v(\" \"+_vm._s(_vm.formatMoney(_vm.priceWithDiscount))+\" \")]),_c('small',[_vm._v(\" \"+_vm._s(_vm.discountLabel)+\" \")])]:[_c('small',[_vm._v(\" \"+_vm._s(_vm.i19asOf)+\" \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.formatMoney(_vm.priceWithDiscount))+\" \")])]],2):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shipping-line\"},[_c('strong',[_vm._v(\" \"+_vm._s(_vm.deadlineStr)+\" \")]),_c('span',{staticClass:\"mx-2\"},[_vm._v(\" \"+_vm._s(_vm.freightValueStr)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../babel-loader/lib/index.js??ref--1!./ShippingLine.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../babel-loader/lib/index.js??ref--1!./ShippingLine.js?vue&type=script&lang=js&\"","import {\n  i19days,\n  i19freeShipping,\n  i19upTo,\n  i19workingDays\n} from '@ecomplus/i18n'\n\nimport {\n  i18n,\n  formatMoney\n} from '@ecomplus/utils'\n\nexport default {\n  name: 'ShippingLine',\n\n  props: {\n    shippingLine: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    deadlineStr () {\n      const shipping = this.shippingLine\n      const isWorkingDays = (shipping.posting_deadline && shipping.posting_deadline.working_days) ||\n        (shipping.delivery_time && shipping.delivery_time.working_days)\n      let days = shipping.posting_deadline ? shipping.posting_deadline.days : 0\n      if (shipping.delivery_time) {\n        days += shipping.delivery_time.days\n      }\n      return `${i18n(i19upTo)} ${days} ${i18n(isWorkingDays ? i19workingDays : i19days)}`\n    },\n\n    freightValueStr () {\n      const freight = typeof this.shippingLine.total_price === 'number'\n        ? this.shippingLine.total_price\n        : this.shippingLine.price\n      if (freight) {\n        return formatMoney(freight)\n      } else {\n        return i18n(i19freeShipping)\n      }\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./html/ShippingLine.html?vue&type=template&id=f0ee3b22&lang=html&\"\nimport script from \"./js/ShippingLine.js?vue&type=script&lang=js&\"\nexport * from \"./js/ShippingLine.js?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"confirmation\"}},[_c('ec-order-info',{attrs:{\"order\":_vm.order,\"isNew\":true},on:{\"update:order\":function($event){_vm.order=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../babel-loader/lib/index.js??ref--1!./Confirmation.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../babel-loader/lib/index.js??ref--1!./Confirmation.js?vue&type=script&lang=js&\"","import { mapGetters, mapMutations, mapActions } from 'vuex'\nimport ecomCart from '@ecomplus/shopping-cart'\nimport ecomPassport from '@ecomplus/passport-client'\nimport { upsertCart } from './../../lib/sync-cart-to-api'\nimport EcOrderInfo from './../../components/EcOrderInfo.vue'\n\nexport default {\n  name: 'confirmation',\n\n  components: {\n    EcOrderInfo\n  },\n\n  data () {\n    return {\n      canUpsertCart: true\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n      'orders',\n      'customer'\n    ]),\n\n    orderId () {\n      return this.$route.params.id\n    },\n\n    order: {\n      get () {\n        return this.orders.find(({ _id }) => _id === this.orderId) || { _id: this.orderId }\n      },\n      set (order) {\n        if (order && order._id === this.orderId) {\n          const orders = this.orders.concat()\n          const stateOrder = orders.find(({ _id }) => _id === order._id)\n          if (stateOrder) {\n            Object.assign(stateOrder, order)\n          } else {\n            orders.push(order)\n          }\n          this.setOrders(orders)\n          if (!this.$route.params.json) {\n            this.$router.push({\n              params: {\n                json: encodeURIComponent(JSON.stringify(order))\n              }\n            })\n          }\n        }\n      }\n    }\n  },\n\n  methods: {\n    ...mapMutations([\n      'addOrder',\n      'setOrders',\n      'resetCart'\n    ]),\n    ...mapActions([\n      'saveCustomer'\n    ]),\n\n    handleUpsertCart () {\n      if (this.canUpsertCart) {\n        this.canUpsertCart = false\n        const { status } = this.order\n        if (status && status !== 'cancelled') {\n          ecomCart.data.completed = true\n          if (this.orderId) {\n            if (!ecomCart.data.orders) {\n              ecomCart.data.orders = []\n            }\n            ecomCart.data.orders.push(this.orderId)\n          }\n          upsertCart().then(this.resetCart)\n        }\n      }\n    }\n  },\n\n  created () {\n    const { customer } = this\n    if (!ecomPassport.checkAuthorization()) {\n      if (customer.main_email && customer.doc_number) {\n        ecomPassport.fetchLogin(customer.main_email, customer.doc_number).then(() => {\n          this.saveCustomer({ ecomPassport })\n          this.handleUpsertCart()\n        })\n      }\n    }\n  },\n\n  mounted () {\n    if (ecomPassport.checkAuthorization()) {\n      this.handleUpsertCart()\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./Confirmation.vue?vue&type=template&id=04aaefc8&\"\nimport script from \"./js/Confirmation.js?vue&type=script&lang=js&\"\nexport * from \"./js/Confirmation.js?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}