{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/ABackdrop.scss?f1db","webpack:///./node_modules/@ecomplus/storefront-components/src/html/ABackdrop.html","webpack:///./node_modules/@ecomplus/storefront-components/src/js/ABackdrop.js?e2da","webpack:///./node_modules/@ecomplus/storefront-components/src/js/ABackdrop.js","webpack:///./node_modules/@ecomplus/storefront-components/src/ABackdrop.vue","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/ABackdrop.scss?060f","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/ABackdrop.scss","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/SearchEngine.scss?6bef","webpack:///./node_modules/@linusborg/vue-simple-portal/dist/index.mjs","webpack:///./node_modules/nanoid/non-secure/index.js","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/SearchEngine.scss?297b","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/SearchEngine.scss","webpack:///./node_modules/@ecomplus/storefront-components/src/js/SearchEngine.js","webpack:///./node_modules/@ecomplus/storefront-components/src/js/SearchEngine.js?5ac1","webpack:///./node_modules/@ecomplus/storefront-components/src/SearchEngine.vue","webpack:///./node_modules/@ecomplus/widget-search-engine/src/index.js"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","module","exports","right","fails","METHOD_NAME","argument","method","call","DESCRIPTORS","has","defineProperty","Object","cache","thrower","it","options","ACCESSORS","argument0","argument1","enumerable","get","match","version","global","userAgent","process","versions","v8","split","getBuiltIn","classof","content","locals","add","default","name","props","isVisible","type","Boolean","zIndexOnShow","Number","transitionMs","data","opacity","zIndex","top","computed","style","transition","methods","hide","$emit","lockBodyScroll","document","body","maxWidth","offsetWidth","overflow","watch","setTimeout","mounted","component","_vm","_h","$createElement","_self","_c","staticClass","on","___CSS_LOADER_API_IMPORT___","push","_typeof","obj","Symbol","iterator","constructor","prototype","config","selector","concat","setSelector","isBrowser","window","TargetContainer","extend","abstract","vm","updatedNodes","nodes","render","h","text","tag","destroyed","el","$el","parentNode","removeChild","Portal","disabled","prepend","String","$scopedSlots","created","getTargetEl","insertTargetEl","updated","_this","$nextTick","slotFn","container","beforeDestroy","unmount","immediate","handler","mount","querySelector","parent","child","createElement","id","substring","appendChild","targetEl","firstChild","insertBefore","propsData","$destroy","install","_Vue","defaultSelector","Vue","use","url","toString","toUpperCase","size","Math","random","resetEcomSearch","ecomSearch","term","page","defaultSort","reset","setSortOrder","setSearchTerm","setPageNumber","components","ABackdrop","ProductCard","pageSize","brands","Array","categories","isFixedBrands","isFixedCategories","defaultFilters","autoFixScore","isFilterable","hasPopularItems","canLoadMore","loadMoreSelector","canRetry","canShowItems","productCardProps","gridsData","storefront","grids","suggestedTerm","resultItems","totalSearchResults","hasSearched","noResultsTerm","keepNoResultsTerm","filters","lastSelectedFilter","selectedOptions","selectedSortOption","countOpenRequests","lastRequestId","isScheduled","isLoadingMore","hasNetworkError","popularItems","hasSetPopularItems","isAsideVisible","searchFilterId","i19clearFilters","i18n","i19closeFilters","i19didYouMean","i19filter","i19filterResults","i19itemsFound","i19noResultsFor","i19popularProducts","i19refineSearch","i19relevance","i19results","i19searchAgain","i19searchingFor","i19searchOfflineErrorMsg","i19sort","EcomSearch","isSearching","hasEmptyResult","sortOptions","value","label","i19sales","i19lowestPrice","i19highestPrice","i19releases","i19name","hasSelectedOptions","filter","isNavVisible","isResultsVisible","suggestedItems","hasFilters","find","loadObserver","lozad","load","fetchItems","isRetry","isPopularItems","requestId","Date","now","ceil","fetching","setPageSize","fetch","then","result","handleSearchResult","getItems","catch","err","console","error","response","status","finally","updateFilters","updatedFilters","addFilter","isSpec","filterIndex","findIndex","filterObj","presetedOptions","toLowerCase","key","indexOf","optionsList","option","$set","getBrands","getCategories","getSpecs","forEach","_","includes","handleSuggestions","suggestTerm","canAutoFix","getTermSuggestions","opt","optTerm","score","replace","RegExp","history","shift","getTotalCount","isArray","setFilterOption","scheduleFetch","resetAndFetch","handlePresetedOptions","toggleFilters","getFilterLabel","i19brands","i19categories","grid","grid_id","title","prop","charAt","slice","updateSearchFilter","setOptions","setBrandNames","setCategoryNames","mergeFilter","terms","setSpec","isSet","optionIndex","splice","clearFilters","sort","observe","elId","$searchEngine","getElementById","$dock","$productItems","getScopedSlots","urlParams","URLSearchParams","location","search","parseInt","getAll","gridAndOption","gridId","dataset","resource","JSON","parse","Error","vueApp","countRequests","renderNewItems","remove","hits","isSameItems","_id","SearchEngine","attrs","scopedSlots","append","$mount","observer","MutationObserver","clearTimeout","fallbackTimer","disconnect","childList"],"mappings":"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","file":"chunk.dcee98a3fb7bc0477ac3.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./ABackdrop.scss?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6cc07505\", content, true, {});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"backdrop\",style:(_vm.style),on:{\"click\":_vm.hide}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../babel-loader/lib/index.js??ref--1!./ABackdrop.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../babel-loader/lib/index.js??ref--1!./ABackdrop.js?vue&type=script&lang=js&\"","export default {\n  name: 'ABackdrop',\n\n  props: {\n    isVisible: {\n      type: Boolean,\n      default: true\n    },\n    zIndexOnShow: {\n      type: Number,\n      default: 1080\n    },\n    transitionMs: {\n      type: Number,\n      default: 150\n    }\n  },\n\n  data () {\n    return {\n      opacity: 0,\n      zIndex: null,\n      top: null\n    }\n  },\n\n  computed: {\n    style () {\n      const { top, zIndex, transitionMs, opacity } = this\n      return {\n        top,\n        transition: `opacity ${transitionMs}ms linear`,\n        opacity,\n        zIndex\n      }\n    }\n  },\n\n  methods: {\n    hide () {\n      this.$emit('update:is-visible', false)\n      this.$emit('hide')\n    },\n\n    lockBodyScroll () {\n      document.body.style.maxWidth = `${document.body.offsetWidth}px`\n      document.body.style.overflow = 'hidden'\n    }\n  },\n\n  watch: {\n    isVisible (isVisible) {\n      if (isVisible) {\n        this.opacity = null\n        this.lockBodyScroll()\n      } else {\n        this.opacity = 0\n        document.body.style.overflow = document.body.style.maxWidth = null\n      }\n    },\n\n    opacity (opacity) {\n      if (opacity === 0) {\n        setTimeout(() => {\n          this.top = this.zIndex = null\n        }, this.transitionMs)\n      } else {\n        this.zIndex = this.zIndexOnShow\n        this.top = 0\n      }\n    }\n  },\n\n  mounted () {\n    if (this.isVisible) {\n      setTimeout(() => {\n        this.opacity = null\n      }, this.transitionMs)\n      this.lockBodyScroll()\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./html/ABackdrop.html?vue&type=template&id=01ebe4cc&lang=html&\"\nimport script from \"./js/ABackdrop.js?vue&type=script&lang=js&\"\nexport * from \"./js/ABackdrop.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/ABackdrop.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./ABackdrop.scss?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".backdrop{position:fixed;top:-100vh;left:0;width:100vw;height:100vh;background-color:var(--dark);opacity:.65;cursor:pointer;z-index:-100}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./SearchEngine.scss?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6640bcbb\", content, true, {});","\n/**\n * vue-simple-portal\n * version: 0.1.4,\n * (c) Thorsten Lünborg, 2019\n * LICENCE: Apache-2.0\n * http://github.com/linusborg/vue-simple-portal\n*/\nimport Vue from 'vue';\nimport id from 'nanoid/non-secure';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar config = {\n  selector: \"vue-portal-target-\".concat(id())\n};\nvar setSelector = function setSelector(selector) {\n  return config.selector = selector;\n};\nvar isBrowser = typeof window !== 'undefined' && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) !== undefined;\n\nvar TargetContainer = Vue.extend({\n  // as an abstract component, it doesn't appear in\n  // the $parent chain of components.\n  // which means the next parent of any component rendered inside of this oen\n  // will be the parent from which is was portal'd\n  abstract: true,\n  name: 'PortalOutlet',\n  props: ['nodes', 'tag'],\n  data: function data(vm) {\n    return {\n      updatedNodes: vm.nodes\n    };\n  },\n  render: function render(h) {\n    var nodes = this.updatedNodes && this.updatedNodes();\n    if (!nodes) return h();\n    return nodes.length < 2 && !nodes[0].text ? nodes : h(this.tag || 'DIV', nodes);\n  },\n  destroyed: function destroyed() {\n    var el = this.$el;\n    el.parentNode.removeChild(el);\n  }\n});\n\nvar Portal = Vue.extend({\n  name: 'VueSimplePortal',\n  props: {\n    disabled: {\n      type: Boolean\n    },\n    prepend: {\n      type: Boolean\n    },\n    selector: {\n      type: String,\n      default: function _default() {\n        return \"#\".concat(config.selector);\n      }\n    },\n    tag: {\n      type: String,\n      default: 'DIV'\n    }\n  },\n  render: function render(h) {\n    if (this.disabled) {\n      var nodes = this.$scopedSlots && this.$scopedSlots.default();\n      if (!nodes) return h();\n      return nodes.length < 2 && !nodes[0].text ? nodes : h(this.tag, nodes);\n    }\n\n    return h();\n  },\n  created: function created() {\n    if (!this.getTargetEl()) {\n      this.insertTargetEl();\n    }\n  },\n  updated: function updated() {\n    var _this = this;\n\n    // We only update the target container component\n    // if the scoped slot function is a fresh one\n    // The new slot syntax (since Vue 2.6) can cache unchanged slot functions\n    // and we want to respect that here.\n    this.$nextTick(function () {\n      if (!_this.disabled && _this.slotFn !== _this.$scopedSlots.default) {\n        _this.container.updatedNodes = _this.$scopedSlots.default;\n      }\n\n      _this.slotFn = _this.$scopedSlots.default;\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unmount();\n  },\n  watch: {\n    disabled: {\n      immediate: true,\n      handler: function handler(disabled) {\n        disabled ? this.unmount() : this.$nextTick(this.mount);\n      }\n    }\n  },\n  methods: {\n    // This returns the element into which the content should be mounted.\n    getTargetEl: function getTargetEl() {\n      if (!isBrowser) return;\n      return document.querySelector(this.selector);\n    },\n    insertTargetEl: function insertTargetEl() {\n      if (!isBrowser) return;\n      var parent = document.querySelector('body');\n      var child = document.createElement(this.tag);\n      child.id = this.selector.substring(1);\n      parent.appendChild(child);\n    },\n    mount: function mount() {\n      var targetEl = this.getTargetEl();\n      var el = document.createElement('DIV');\n\n      if (this.prepend && targetEl.firstChild) {\n        targetEl.insertBefore(el, targetEl.firstChild);\n      } else {\n        targetEl.appendChild(el);\n      }\n\n      this.container = new TargetContainer({\n        el: el,\n        parent: this,\n        propsData: {\n          tag: this.tag,\n          nodes: this.$scopedSlots.default\n        }\n      });\n    },\n    unmount: function unmount() {\n      if (this.container) {\n        this.container.$destroy();\n        delete this.container;\n      }\n    }\n  }\n});\n\nfunction install(_Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _Vue.component(options.name || 'portal', Portal);\n\n  if (options.defaultSelector) {\n    setSelector(options.defaultSelector);\n  }\n}\n\nif (typeof window !== 'undefined' && window.Vue && window.Vue === Vue) {\n  // plugin was inlcuded directly in a browser\n  Vue.use(install);\n}\n\nexport default install;\nexport { Portal, config, setSelector };\n","// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 0–9 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\n/**\n * Generate URL-friendly unique ID. This method use non-secure predictable\n * random generator with bigger collision probability.\n *\n * @param {number} [size=21] The number of symbols in ID.\n *\n * @return {string} Random string.\n *\n * @example\n * const nanoid = require('nanoid/non-secure')\n * model.id = nanoid() //=> \"Uakgb_J5m9g-0JDMbcJqL\"\n *\n * @name nonSecure\n * @function\n */\nmodule.exports = function (size) {\n  var id = ''\n  i = size || 21\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // `| 0` is compact and faster alternative for `Math.floor()`\n    id += url[Math.random() * 64 | 0]\n  }\n  return id\n}\n","export * from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./SearchEngine.scss?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-engine{position:relative}.search-engine__nav{padding:var(--spacer-2);margin-bottom:var(--spacer-3);background:var(--light);color:var(--gray)}.search-engine__nav>div{display:flex;align-items:center;justify-content:space-between}.search-engine__toggles{display:flex}.search-engine__toggles button{margin-left:var(--spacer-1);color:var(--secondary)}.search-engine__count{position:relative}.search-engine__spinner{position:absolute;top:50%;right:-3rem;width:1.75rem;height:1.75rem;margin-top:-.875rem;color:var(--secondary)}.search-engine__aside{position:fixed;width:280px;max-width:100%;height:100%;top:0;right:0;z-index:1100;border-radius:0}.search-engine__aside .card-body{overflow-y:auto}.search-engine__aside-open{position:fixed;right:0;bottom:50vh;text-align:right;z-index:890;border-top-right-radius:0;border-bottom-right-radius:0}.search-engine__aside-open .spinner-border{margin-bottom:3px}.search-engine__aside-open .fa-search{opacity:.6}.search-engine__filter:not(:first-child){margin-top:var(--spacer-2)}.search-engine__filter:last-child{margin-bottom:var(--spacer-4)}.search-engine__filter button{padding-left:0;color:var(--secondary);font-size:var(--font-size-lg);font-weight:var(--font-light)}.search-engine__filter button i,.search-engine__filter button svg{font-size:var(--font-size);margin-right:var(--spacer-1);color:var(--gray);opacity:.5;transition:opacity .25s}.search-engine__filter button .fa-chevron-up,.search-engine__filter button[aria-expanded=true] .fa-chevron-down{display:none}.search-engine__filter button[aria-expanded=true] .fa-chevron-up{display:inherit}.search-engine__filter button:hover i,.search-engine__filter button:hover svg{opacity:1}.search-engine__filter button:focus{box-shadow:none}.search-engine__option{color:var(--primary-light)}.search-engine__option small{color:var(--gray)}.search-engine__selected{margin-left:var(--spacer-2);margin-bottom:var(--spacer-2)}.search-engine__selected>small{color:var(--gray)}.search-engine__selected>small:before{content:\\\" / \\\"}.search-engine__info{padding-bottom:var(--spacer-3)}.search-engine__terms>span{font-weight:var(--font-light)}.search-engine__terms>span:not(:last-of-type){color:var(--text-muted)}.search-engine__retail{padding:var(--spacer-2) 0}.search-engine__item{margin-bottom:var(--spacer-3)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import {\n  i19brands,\n  i19categories,\n  i19clearFilters,\n  i19closeFilters,\n  i19didYouMean,\n  i19filter,\n  i19filterResults,\n  i19highestPrice,\n  i19itemsFound,\n  i19lowestPrice,\n  i19name,\n  i19noResultsFor,\n  i19popularProducts,\n  i19refineSearch,\n  i19releases,\n  i19relevance,\n  i19results,\n  i19sales,\n  i19searchAgain,\n  i19searchingFor,\n  i19searchOfflineErrorMsg,\n  i19sort\n} from '@ecomplus/i18n'\n\nimport { i18n } from '@ecomplus/utils'\nimport lozad from 'lozad'\nimport EcomSearch from '@ecomplus/search-engine'\nimport { Portal } from '@linusborg/vue-simple-portal'\nimport ABackdrop from '../ABackdrop.vue'\nimport ProductCard from '../ProductCard.vue'\n\nconst resetEcomSearch = ({ ecomSearch, term, page, defaultSort }) => {\n  ecomSearch.reset()\n  if (defaultSort) {\n    ecomSearch.setSortOrder(defaultSort)\n  }\n  if (term) {\n    ecomSearch.setSearchTerm(term)\n  }\n  if (page) {\n    ecomSearch.setPageNumber(page)\n  }\n}\n\nexport default {\n  name: 'SearchEngine',\n\n  components: {\n    Portal,\n    ABackdrop,\n    ProductCard\n  },\n\n  props: {\n    term: String,\n    page: {\n      type: Number,\n      default: 1\n    },\n    pageSize: {\n      type: Number,\n      default: 24\n    },\n    brands: Array,\n    categories: Array,\n    isFixedBrands: Boolean,\n    isFixedCategories: Boolean,\n    defaultSort: String,\n    defaultFilters: Object,\n    autoFixScore: {\n      type: Number,\n      default: 0.6\n    },\n    isFilterable: {\n      type: Boolean,\n      default: true\n    },\n    hasPopularItems: {\n      type: Boolean,\n      default: true\n    },\n    canLoadMore: {\n      type: Boolean,\n      default: true\n    },\n    loadMoreSelector: String,\n    canRetry: {\n      type: Boolean,\n      default: true\n    },\n    canShowItems: {\n      type: Boolean,\n      default: true\n    },\n    productCardProps: Object,\n    gridsData: {\n      type: Array,\n      default () {\n        if (typeof window === 'object' && window.storefront && window.storefront.data) {\n          return window.storefront.data.grids\n        }\n      }\n    }\n  },\n\n  data () {\n    return {\n      suggestedTerm: '',\n      resultItems: [],\n      totalSearchResults: 0,\n      hasSearched: false,\n      noResultsTerm: '',\n      keepNoResultsTerm: false,\n      filters: [],\n      lastSelectedFilter: null,\n      selectedOptions: {},\n      selectedSortOption: null,\n      countOpenRequests: 0,\n      lastRequestId: null,\n      isScheduled: false,\n      isLoadingMore: false,\n      hasNetworkError: false,\n      popularItems: [],\n      hasSetPopularItems: false,\n      isAsideVisible: false,\n      searchFilterId: 0\n    }\n  },\n\n  computed: {\n    i19clearFilters: () => i18n(i19clearFilters),\n    i19closeFilters: () => i18n(i19closeFilters),\n    i19didYouMean: () => i18n(i19didYouMean),\n    i19filter: () => i18n(i19filter),\n    i19filterResults: () => i18n(i19filterResults),\n    i19itemsFound: () => i18n(i19itemsFound),\n    i19noResultsFor: () => i18n(i19noResultsFor),\n    i19popularProducts: () => i18n(i19popularProducts),\n    i19refineSearch: () => i18n(i19refineSearch),\n    i19relevance: () => i18n(i19relevance),\n    i19results: () => i18n(i19results),\n    i19searchAgain: () => i18n(i19searchAgain),\n    i19searchingFor: () => i18n(i19searchingFor),\n    i19searchOfflineErrorMsg: () => i18n(i19searchOfflineErrorMsg),\n    i19sort: () => i18n(i19sort),\n\n    ecomSearch: () => new EcomSearch(),\n\n    isSearching () {\n      return this.countOpenRequests > 0\n    },\n\n    hasEmptyResult () {\n      return this.hasSearched && !this.resultItems.length\n    },\n\n    sortOptions: () => [\n      {\n        value: null,\n        label: i18n(i19relevance)\n      }, {\n        value: 'sales',\n        label: i18n(i19sales)\n      }, {\n        value: 'lowest_price',\n        label: i18n(i19lowestPrice)\n      }, {\n        value: 'highest_price',\n        label: i18n(i19highestPrice)\n      }, {\n        value: 'news',\n        label: i18n(i19releases)\n      }, {\n        value: 'slug',\n        label: i18n(i19name)\n      }\n    ],\n\n    hasSelectedOptions () {\n      for (const filter in this.selectedOptions) {\n        if (this.selectedOptions[filter] && this.selectedOptions[filter].length) {\n          return true\n        }\n      }\n      return false\n    },\n\n    isNavVisible () {\n      return this.hasSearched && this.isFilterable &&\n        (this.isSearching || this.totalSearchResults > 8 || this.hasSelectedOptions)\n    },\n\n    isResultsVisible () {\n      return (this.hasSearched && !this.isSearching) || this.suggestedItems.length\n    },\n\n    hasFilters () {\n      return this.hasSelectedOptions ||\n        this.filters.find(({ options }) => options.length)\n    },\n\n    suggestedItems () {\n      return this.resultItems.length ? this.resultItems : this.popularItems\n    },\n\n    loadObserver () {\n      return this.canLoadMore && lozad('#search-engine-load-more', {\n        load: () => {\n          this.isLoadingMore = true\n          this.fetchItems()\n        }\n      })\n    }\n  },\n\n  methods: {\n    fetchItems (isRetry, isPopularItems) {\n      const ecomSearch = isPopularItems ? new EcomSearch() : this.ecomSearch\n      const requestId = Date.now()\n      this.countOpenRequests++\n      this.lastRequestId = requestId\n      if (this.isLoadingMore) {\n        ecomSearch.setPageNumber(this.page + Math.ceil(this.resultItems.length / this.pageSize))\n      }\n      const fetching = ecomSearch.setPageSize(this.pageSize).fetch()\n        .then(result => {\n          if (this.lastRequestId === requestId) {\n            this.hasNetworkError = false\n            if (!isPopularItems) {\n              this.handleSearchResult()\n            }\n          }\n          if (isPopularItems || (!this.term && !this.brands && !this.categories)) {\n            this.hasSetPopularItems = true\n            this.popularItems = ecomSearch.getItems()\n          }\n          return result\n        })\n        .catch(err => {\n          console.error(err)\n          if (this.lastRequestId === requestId || isPopularItems) {\n            if (this.canRetry && !isRetry && (!err.response || err.response.status !== 400)) {\n              this.fetchItems(true, isPopularItems)\n            } else {\n              this.hasNetworkError = true\n            }\n          }\n        })\n        .finally(() => {\n          this.countOpenRequests--\n          this.isLoadingMore = false\n        })\n      this.$emit('fetch', { ecomSearch, fetching })\n    },\n\n    updateFilters () {\n      const updatedFilters = []\n      const addFilter = (filter, options, isSpec) => {\n        let filterIndex = this.filters.findIndex(filterObj => filterObj.filter === filter)\n        if (filter !== this.lastSelectedFilter) {\n          if (filterIndex === -1) {\n            filterIndex = this.filters.length\n          }\n          if (this[`isFixed${filter}`]) {\n            const presetedOptions = this[filter.toLowerCase()]\n            if (presetedOptions) {\n              options = options.filter(({ key }) => presetedOptions.indexOf(key) === -1)\n            }\n          }\n          this.filters[filterIndex] = {\n            filter,\n            options,\n            isSpec\n          }\n          const optionsList = !this.selectedOptions[filter]\n            ? []\n            : this.selectedOptions[filter]\n              .filter(option => options.find(({ key }) => key === option))\n          this.$set(this.selectedOptions, filter, optionsList)\n        }\n        updatedFilters.push(filterIndex)\n      }\n      addFilter('Brands', this.ecomSearch.getBrands())\n      addFilter('Categories', this.ecomSearch.getCategories())\n      this.ecomSearch.getSpecs().forEach(({ key, options }, index) => {\n        addFilter(key, options, true)\n      })\n      this.filters = this.filters.filter((_, i) => updatedFilters.includes(i))\n      this.searchFilterId = Date.now()\n    },\n\n    handleSuggestions () {\n      if (this.term) {\n        const { ecomSearch } = this\n        const term = this.term.toLowerCase()\n        let suggestTerm = term\n        let canAutoFix = false\n        this.suggestedTerm = ''\n        ecomSearch.getTermSuggestions().forEach(({ options, text }) => {\n          if (options.length) {\n            const opt = options[0]\n            const optTerm = opt.text.toLowerCase()\n            if (\n              !this.totalSearchResults &&\n              this.autoFixScore > 0 &&\n              opt.score >= this.autoFixScore &&\n              optTerm.indexOf(term) === -1\n            ) {\n              canAutoFix = true\n            }\n            suggestTerm = suggestTerm.replace(new RegExp(text, 'i'), optTerm)\n          }\n        })\n        if (!this.keepNoResultsTerm) {\n          this.noResultsTerm = ''\n        } else {\n          this.keepNoResultsTerm = false\n        }\n        if (suggestTerm !== term) {\n          if (canAutoFix) {\n            this.noResultsTerm = term\n            this.keepNoResultsTerm = true\n            this.$emit('update:term', suggestTerm)\n          } else {\n            this.suggestedTerm = suggestTerm\n          }\n          ecomSearch.history.shift()\n        }\n      }\n    },\n\n    handleSearchResult () {\n      const { ecomSearch } = this\n      this.totalSearchResults = ecomSearch.getTotalCount()\n      this.resultItems = this.isLoadingMore\n        ? this.resultItems.concat(ecomSearch.getItems())\n        : ecomSearch.getItems()\n      this.updateFilters()\n      if (!this.hasSearched && this.defaultFilters) {\n        for (const filter in this.defaultFilters) {\n          const options = this.defaultFilters[filter]\n          if (Array.isArray(options)) {\n            options.forEach(option => this.setFilterOption(filter, option, true))\n          } else if (typeof options === 'string') {\n            this.setFilterOption(filter, options, true)\n          }\n        }\n      }\n      this.handleSuggestions()\n      if (!this.totalSearchResults && this.hasPopularItems && !this.hasSetPopularItems) {\n        this.fetchItems(false, true)\n      }\n      this.$emit(this.isLoadingMore ? 'load-more' : 'search', { ecomSearch })\n      if (!this.hasSearched) {\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.hasSearched = true\n          }, 100)\n        })\n      }\n    },\n\n    scheduleFetch () {\n      if (!this.isScheduled) {\n        this.isScheduled = true\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.fetchItems()\n            this.isScheduled = false\n          }, 30)\n        })\n      }\n    },\n\n    resetAndFetch () {\n      resetEcomSearch(this)\n      this.handlePresetedOptions()\n      this.scheduleFetch()\n    },\n\n    toggleFilters (isVisible) {\n      this.isAsideVisible = typeof isVisible === 'boolean'\n        ? isVisible\n        : !this.isAsideVisible\n    },\n\n    getFilterLabel (filter) {\n      switch (filter) {\n        case 'Brands':\n          return i18n(i19brands)\n        case 'Categories':\n          return i18n(i19categories)\n        default:\n          if (this.gridsData) {\n            const grid = this.gridsData.find(grid => grid.grid_id === filter)\n            if (grid) {\n              return grid.title || grid.grid_id\n            }\n          }\n      }\n      return filter\n    },\n\n    handlePresetedOptions () {\n      ;['brands', 'categories'].forEach(prop => {\n        if (this[prop] && this[prop].length) {\n          const filter = prop.charAt(0).toUpperCase() + prop.slice(1)\n          if (!this[`isFixed${filter}`]) {\n            this.selectedOptions[filter] = this[prop]\n          }\n          this.updateSearchFilter(filter)\n        }\n      })\n    },\n\n    updateSearchFilter (filter) {\n      const { ecomSearch } = this\n      let setOptions = this.selectedOptions[filter]\n      if (setOptions === undefined || !setOptions.length) {\n        setOptions = null\n      }\n      switch (filter) {\n        case 'Brands':\n          if (this.isFixedBrands && this.brands) {\n            setOptions = setOptions ? setOptions.concat(this.brands) : this.brands\n          }\n          ecomSearch.setBrandNames(setOptions)\n          break\n        case 'Categories':\n          ecomSearch.setCategoryNames(setOptions)\n          if (this.isFixedCategories && this.categories) {\n            ecomSearch.mergeFilter({\n              terms: {\n                'categories.name': this.categories\n              }\n            })\n          }\n          break\n        default:\n          ecomSearch.setSpec(filter, setOptions)\n      }\n    },\n\n    setFilterOption (filter, option, isSet) {\n      const { selectedOptions } = this\n      const optionsList = selectedOptions[filter]\n      if (optionsList) {\n        const optionIndex = optionsList.indexOf(option)\n        if (isSet) {\n          if (optionIndex === -1) {\n            this.lastSelectedFilter = filter\n            optionsList.push(option)\n          }\n        } else {\n          if (optionIndex > -1) {\n            optionsList.splice(optionIndex, 1)\n          }\n          if (!optionsList.length && this.lastSelectedFilter === filter) {\n            this.lastSelectedFilter = null\n          }\n        }\n        this.updateSearchFilter(filter)\n        this.scheduleFetch()\n      }\n    },\n\n    clearFilters () {\n      const { selectedOptions } = this\n      for (const filter in selectedOptions) {\n        if (selectedOptions[filter]) {\n          selectedOptions[filter] = []\n          this.updateSearchFilter(filter)\n        }\n      }\n      this.fetchItems()\n    },\n\n    setSortOrder (sort) {\n      this.selectedSortOption = sort\n      this.ecomSearch.setSortOrder(sort)\n      if (this.page > 1) {\n        this.page = 1\n      } else {\n        this.scheduleFetch()\n      }\n    }\n  },\n\n  watch: {\n    term () {\n      this.resetAndFetch()\n    },\n    brands () {\n      this.resetAndFetch()\n    },\n    categories () {\n      this.resetAndFetch()\n    },\n\n    page (page) {\n      this.ecomSearch.setPageNumber(page)\n      this.scheduleFetch()\n    },\n\n    isSearching (isSearching) {\n      if (!isSearching && this.loadObserver) {\n        this.$nextTick(() => {\n          this.loadObserver.observe()\n        })\n      }\n    }\n  },\n\n  created () {\n    resetEcomSearch(this)\n    this.handlePresetedOptions()\n    this.fetchItems()\n  }\n}\n","import mod from \"-!../../../../babel-loader/lib/index.js??ref--1!./SearchEngine.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../babel-loader/lib/index.js??ref--1!./SearchEngine.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./html/SearchEngine.html?vue&type=template&id=a94588d8&lang=html&\"\nimport script from \"./js/SearchEngine.js?vue&type=script&lang=js&\"\nexport * from \"./js/SearchEngine.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/SearchEngine.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * @ecomplus/widget-search-engine\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport { $ } from '@ecomplus/storefront-twbs'\nimport Vue from 'vue'\nimport SearchEngine from '#components/SearchEngine.vue'\n\nexport default (options = {}, elId = 'search-engine') => {\n  const $searchEngine = document.getElementById(elId)\n  if ($searchEngine) {\n    const $dock = document.getElementById(`${elId}-dock`)\n    let $productItems\n    const getScopedSlots = window.storefront && window.storefront.getScopedSlots\n\n    const urlParams = new URLSearchParams(window.location.search)\n    const props = {\n      ...options.props,\n      term: urlParams.get('term'),\n      page: parseInt(urlParams.get('page'), 10) || 1,\n      brands: urlParams.getAll('brands[]'),\n      categories: urlParams.getAll('categories[]'),\n      defaultFilters: urlParams.getAll('filters[]').reduce((filters, gridAndOption) => {\n        const [gridId, option] = gridAndOption.split(':')\n        if (!filters[gridId]) {\n          filters[gridId] = []\n        }\n        filters[gridId].push(option)\n        return filters\n      }, {})\n    }\n    const { sort } = $searchEngine.dataset\n    if (sort) {\n      props.defaultSort = sort\n    }\n\n    ;['brands', 'categories'].forEach(resource => {\n      if ($searchEngine.dataset[resource]) {\n        try {\n          props[resource] = JSON.parse($searchEngine.dataset[resource])\n        } catch (err) {\n          console.error(err)\n          return\n        }\n        if (props[resource] && props[resource].length < 2) {\n          props[`isFixed${resource.charAt(0).toUpperCase()}${resource.slice(1)}`] = true\n        }\n        props.hasPopularItems = false\n      }\n    })\n\n    const { resource } = window.document.body.dataset\n    switch (resource) {\n      case 'brands':\n      case 'categories':\n        if (!props[resource] || !props[resource].length) {\n          console.error(new Error(`Skipping SearchEngine with empty '${resource}' filter`))\n          return\n        }\n    }\n\n    const vueApp = new Vue({\n      data: {\n        countRequests: 0,\n        canShowItems: !$dock,\n        term: props.term\n      },\n\n      render (createElement) {\n        const vm = this\n        const on = {\n          'update:term' (term) {\n            vm.term = term\n          }\n        }\n\n        if ($dock) {\n          on.fetch = function ({ fetching }) {\n            fetching.then(result => {\n              vm.countRequests++\n              const renderNewItems = () => {\n                vm.canShowItems = true\n                $('#search-engine-snap').remove()\n              }\n              if (!vm.canShowItems) {\n                if (vm.countRequests > 1) {\n                  renderNewItems()\n                } else if (result && result.hits) {\n                  if (!$productItems || $productItems.length !== result.hits.hits.length) {\n                    renderNewItems()\n                  } else {\n                    let isSameItems = true\n                    const { hits } = result.hits\n                    for (let i = 0; i < hits.length; i++) {\n                      if (!$productItems.find(`[data-product-id=\"${hits[i]._id}\"]`).length) {\n                        isSameItems = false\n                        break\n                      }\n                    }\n                    if (!isSameItems) {\n                      renderNewItems()\n                    }\n                  }\n                }\n              }\n            })\n          }\n        }\n\n        return createElement(SearchEngine, {\n          attrs: {\n            id: $dock ? null : elId\n          },\n          props: {\n            ...props,\n            term: vm.term,\n            canShowItems: vm.canShowItems,\n            loadMoreSelector: $dock ? '#search-engine-load' : null\n          },\n          on,\n          scopedSlots: typeof getScopedSlots === 'function'\n            ? getScopedSlots($searchEngine, createElement, !$dock)\n            : undefined\n        })\n      }\n    })\n\n    if ($dock) {\n      $($searchEngine).append($('<div>', {\n        id: 'search-engine-load'\n      }))\n\n      const mount = () => vueApp.$mount($dock)\n      $productItems = $('#search-engine-snap .product-item')\n      if ($productItems.length) {\n        const observer = new window.MutationObserver(() => {\n          clearTimeout(fallbackTimer)\n          observer.disconnect()\n          setTimeout(mount, 150)\n        })\n        observer.observe($productItems[0], {\n          childList: true\n        })\n        const fallbackTimer = setTimeout(() => {\n          observer.disconnect()\n          mount()\n        }, 3000)\n      } else {\n        mount()\n      }\n    } else {\n      vueApp.$mount($searchEngine)\n    }\n  }\n}\n"],"sourceRoot":""}